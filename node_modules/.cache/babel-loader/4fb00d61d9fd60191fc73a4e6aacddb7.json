{"ast":null,"code":"import _slicedToArray from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{getMovie,getTv}from\"../store/actions/moviesAction\";import{connect}from\"react-redux\";import Spinner from\"../components/parts/Spinner\";import{Container,Row,Col}from\"react-bootstrap\";import Header from\"../components/layout/Header\";import{IoIosPlay,IoIosStar}from\"react-icons/io\";import{FaTicketAlt}from\"react-icons/fa\";import{getSingleTrailer}from\"../store/actions/moviesAction\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Movie=function Movie(props){var movies=props.movies,tv=props.tv,getMovie=props.getMovie,getTv=props.getTv,match=props.match,trailer=props.trailer,getSingleTrailer=props.getSingleTrailer,_props$version=props.version,version=_props$version===void 0?localStorage.getItem(\"version\"):_props$version;var _match$params=match.params,type=_match$params.type,id=_match$params.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentItem=_useState2[0],setItem=_useState2[1];useEffect(function(){if(type===\"movies\"){getMovie(\"movie/\"+id);setItem(movies);}else{getTv(\"tv/\"+id);setItem(tv);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);useEffect(function(){setItem(props[type]);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[props[type]]);var currentTrailer=trailer&&trailer.results.find(function(result){return result.type===\"Trailer\";});if(currentItem){var poster_path=currentItem.poster_path,overview=currentItem.overview,title=currentItem.title,name=currentItem.name,vote_average=currentItem.vote_average,release_date=currentItem.release_date,first_air_date=currentItem.first_air_date,production_companies=currentItem.production_companies;return/*#__PURE__*/_jsxs(\"div\",{className:\"singleMovieOrTv  bg-\".concat(version),children:[/*#__PURE__*/_jsxs(Header,{headerClass:\"half\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-5 mb-3 text-center text-white font-weight-bold\",children:[title||name,/*#__PURE__*/_jsxs(\"small\",{style:{fontSize:\"18px\"},className:\"ml-3 text-pColor\",children:[release_date||first_air_date,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\" rate d-flex justify-content-center align-items-center mb-0 \",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(IoIosStar,{})}),/*#__PURE__*/_jsx(\"big\",{children:vote_average}),/*#__PURE__*/_jsx(\"small\",{children:\"/10\"})]})]}),/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsxs(Row,{className:\"py-5\",children:[/*#__PURE__*/_jsx(Col,{xs:\"12\",children:!currentTrailer?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"iframe\",{title:\"trailer\",style:{width:\"100%\",marginBottom:\"30px\"},height:\"450\",src:\"https://www.youtube.com/embed/\".concat(currentTrailer.key),frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})}),/*#__PURE__*/_jsx(Col,{className:\"mb-5 mb-lg-0\",xs:\"12\",lg:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"singleMovieCard px-3 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img text-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:\"https://image.tmdb.org/t/p/w500\".concat(poster_path),alt:\"poster\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content p-4 bg-dark\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return getSingleTrailer(\"/\".concat(type===\"movies\"?\"movie\":\"tv\",\"/\").concat(id));},className:\"mb-3 py-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(IoIosPlay,{}),\" \"]}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Watch Trailer\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\" py-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaTicketAlt,{}),\" \"]}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"buy ticket\"})]})]})]})}),/*#__PURE__*/_jsxs(Col,{xs:\"12\",lg:\"8\",className:\"contentInfo \".concat(version),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overview mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-weight-bold title\",children:\"Overview\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-pColor\",children:[overview,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"companies\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-weight-bold mb-4 title\",children:\"Companies\"}),/*#__PURE__*/_jsx(Row,{children:production_companies&&production_companies.map(function(company){return/*#__PURE__*/_jsxs(Col,{className:\"d-flex align-items-center flex-row mb-3\",xs:\"12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img mr-4\",children:/*#__PURE__*/_jsx(\"img\",{src:!company.logo_path?\"\":\"https://image.tmdb.org/t/p/w200\"+company.logo_path,alt:\"logo\",className:\"img-fluid\"})}),/*#__PURE__*/_jsxs(\"h4\",{className:\"m-0 name\",children:[company.name,\" \\\"\",/*#__PURE__*/_jsx(\"span\",{children:company.origin_country}),\"\\\"\"]})]},company.id);})})]})]})]})})]});}return/*#__PURE__*/_jsx(Spinner,{});};var getState=function getState(state){return{movies:state.movies.movie,tv:state.movies.tv,version:state.version,trailer:state.movies.singleTrailer};};export default connect(getState,{getMovie:getMovie,getTv:getTv,getSingleTrailer:getSingleTrailer})(Movie);","map":{"version":3,"sources":["D:/block-buster/src/pages/Movie.js"],"names":["useEffect","useState","getMovie","getTv","connect","Spinner","Container","Row","Col","Header","IoIosPlay","IoIosStar","FaTicketAlt","getSingleTrailer","Movie","props","movies","tv","match","trailer","version","localStorage","getItem","params","type","id","currentItem","setItem","currentTrailer","results","find","result","poster_path","overview","title","name","vote_average","release_date","first_air_date","production_companies","fontSize","width","marginBottom","key","map","company","logo_path","origin_country","getState","state","movie","singleTrailer"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getMovie, getTv } from \"../store/actions/moviesAction\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../components/parts/Spinner\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport Header from \"../components/layout/Header\";\r\nimport { IoIosPlay, IoIosStar } from \"react-icons/io\";\r\nimport { FaTicketAlt } from \"react-icons/fa\";\r\nimport { getSingleTrailer } from \"../store/actions/moviesAction\";\r\nconst Movie = props => {\r\n    const {\r\n        movies,\r\n        tv,\r\n        getMovie,\r\n        getTv,\r\n        match,\r\n        trailer,\r\n        getSingleTrailer,\r\n        version = localStorage.getItem(\"version\"),\r\n    } = props;\r\n    const { type, id } = match.params;\r\n    const [currentItem, setItem] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (type === \"movies\") {\r\n            getMovie(\"movie/\" + id);\r\n            setItem(movies);\r\n        } else {\r\n            getTv(\"tv/\" + id);\r\n            setItem(tv);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id]);\r\n    useEffect(() => {\r\n        setItem(props[type]);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props[type]]);\r\n    let currentTrailer =\r\n        trailer && trailer.results.find(result => result.type === \"Trailer\");\r\n    if (currentItem) {\r\n        const {\r\n            poster_path,\r\n            overview,\r\n            title,\r\n            name,\r\n            vote_average,\r\n            release_date,\r\n            first_air_date,\r\n            production_companies,\r\n        } = currentItem;\r\n        return (\r\n            <div className={`singleMovieOrTv  bg-${version}`}>\r\n                <Header headerClass=\"half\">\r\n                    <h2 className=\"mt-5 mb-3 text-center text-white font-weight-bold\">\r\n                        {title || name}\r\n                        <small\r\n                            style={{ fontSize: \"18px\" }}\r\n                            className=\"ml-3 text-pColor\">\r\n                            {release_date || first_air_date}{\" \"}\r\n                        </small>\r\n                    </h2>\r\n                    <div\r\n                        className={` rate d-flex justify-content-center align-items-center mb-0 `}>\r\n                        <span>\r\n                            <IoIosStar />\r\n                        </span>\r\n                        <big>{vote_average}</big>\r\n                        <small>/10</small>\r\n                    </div>\r\n                </Header>\r\n                <Container className=\"py-5\">\r\n                    <Row className=\"py-5\">\r\n                        <Col xs=\"12\">\r\n                            {!currentTrailer ? (\r\n                                <div></div>\r\n                            ) : (\r\n                                <iframe\r\n                                    title=\"trailer\"\r\n                                    style={{\r\n                                        width: \"100%\",\r\n                                        marginBottom: \"30px\",\r\n                                    }}\r\n                                    height=\"450\"\r\n                                    src={`https://www.youtube.com/embed/${currentTrailer.key}`}\r\n                                    frameBorder=\"0\"\r\n                                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                    allowFullScreen></iframe>\r\n                            )}\r\n                        </Col>\r\n                        <Col className=\"mb-5 mb-lg-0\" xs=\"12\" lg=\"4\">\r\n                            <div className=\"singleMovieCard px-3 \">\r\n                                <div className=\"img text-center\">\r\n                                    <img\r\n                                        className=\"img-fluid\"\r\n                                        src={`https://image.tmdb.org/t/p/w500${poster_path}`}\r\n                                        alt=\"poster\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"content p-4 bg-dark\">\r\n                                    <button\r\n                                        onClick={() =>\r\n                                            getSingleTrailer(\r\n                                                `/${\r\n                                                    type === \"movies\"\r\n                                                        ? \"movie\"\r\n                                                        : \"tv\"\r\n                                                }/${id}`,\r\n                                            )\r\n                                        }\r\n                                        className=\"mb-3 py-2\">\r\n                                        <span>\r\n                                            <IoIosPlay />{\" \"}\r\n                                        </span>{\" \"}\r\n                                        <span>Watch Trailer</span>\r\n                                    </button>\r\n                                    <button className=\" py-2\">\r\n                                        <span>\r\n                                            <FaTicketAlt />{\" \"}\r\n                                        </span>{\" \"}\r\n                                        <span>buy ticket</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n\r\n                        <Col\r\n                            xs=\"12\"\r\n                            lg=\"8\"\r\n                            className={`contentInfo ${version}`}>\r\n                            <div className=\"overview mb-4\">\r\n                                <h4 className=\"text-white font-weight-bold title\">\r\n                                    Overview\r\n                                </h4>\r\n                                <p className=\"text-pColor\">{overview} </p>\r\n                            </div>\r\n                            <div className=\"companies\">\r\n                                <h4 className=\"text-white font-weight-bold mb-4 title\">\r\n                                    Companies\r\n                                </h4>\r\n                                <Row>\r\n                                    {production_companies &&\r\n                                        production_companies.map(company => {\r\n                                            return (\r\n                                                <Col\r\n                                                    className=\"d-flex align-items-center flex-row mb-3\"\r\n                                                    xs=\"12\"\r\n                                                    key={company.id}>\r\n                                                    <div className=\"img mr-4\">\r\n                                                        <img\r\n                                                            src={\r\n                                                                !company.logo_path\r\n                                                                    ? \"\"\r\n                                                                    : \"https://image.tmdb.org/t/p/w200\" +\r\n                                                                      company.logo_path\r\n                                                            }\r\n                                                            alt=\"logo\"\r\n                                                            className=\"img-fluid\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <h4 className=\"m-0 name\">\r\n                                                        {company.name} \"\r\n                                                        <span>\r\n                                                            {\r\n                                                                company.origin_country\r\n                                                            }\r\n                                                        </span>\r\n                                                        \"\r\n                                                    </h4>\r\n                                                </Col>\r\n                                            );\r\n                                        })}\r\n                                </Row>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n    return <Spinner />;\r\n};\r\n\r\nconst getState = state => {\r\n    return {\r\n        movies: state.movies.movie,\r\n        tv: state.movies.tv,\r\n        version: state.version,\r\n        trailer: state.movies.singleTrailer,\r\n    };\r\n};\r\n\r\nexport default connect(getState, {\r\n    getMovie,\r\n    getTv,\r\n    getSingleTrailer,\r\n})(Movie);\r\n"]},"metadata":{},"sourceType":"module"}