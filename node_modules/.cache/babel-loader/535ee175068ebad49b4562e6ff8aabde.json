{"ast":null,"code":"import _regeneratorRuntime from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{Container,Row,Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import Header from\"../components/layout/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var News=function News(_ref){var _ref$version=_ref.version,version=_ref$version===void 0?localStorage.getItem(\"version\"):_ref$version;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var getNews=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(signal){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/trending/all/week?api_key=af64c5c103f265313a6fa2368d35c51a\",{signal:signal});case 2:res=_context.sent;data=res.data;setNews(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getNews(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){var abortController=new AbortController();var signal=abortController.signal;getNews(signal);return function cleanUp(){abortController.abort();};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-\".concat(version,\" \").concat(version,\" news\"),children:[/*#__PURE__*/_jsx(Header,{headerClass:\"half\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5 font-weight-bold text-center text-white\",children:\"News\"})}),/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsx(Row,{children:news&&news.results.map(function(item,ind){var backdrop_path=item.backdrop_path,title=item.title,release_date=item.release_date,overview=item.overview,name=item.name;return/*#__PURE__*/_jsxs(Col,{className:\"mb-4 newsCard\",xs:\"12\",md:\"6\",lg:\"4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img mb-4\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"poster\",style:{width:\"100%\"},src:\"https://image.tmdb.org/t/p/w500\"+backdrop_path})}),/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"m-0\",children:title||name}),/*#__PURE__*/_jsxs(\"small\",{className:\"d-block my-3\",children:[release_date,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[overview,\" \"]})]})]},ind);})})}),\"news\"]});};var getState=function getState(state){return{version:state.version};};export default connect(getState)(News);","map":{"version":3,"sources":["D:/block-buster/src/pages/News.js"],"names":["axios","useState","useEffect","Container","Row","Col","connect","Header","News","version","localStorage","getItem","news","setNews","getNews","signal","get","res","data","abortController","AbortController","cleanUp","abort","results","map","item","ind","backdrop_path","title","release_date","overview","name","width","getState","state"],"mappings":"+YAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,iBAApC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,C,wFACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAmD,uBAAhDC,OAAgD,CAAhDA,OAAgD,uBAAtCC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAsC,4BACpCV,QAAQ,CAAC,IAAD,CAD4B,wCACrDW,IADqD,eAC/CC,OAD+C,eAE5D,GAAMC,CAAAA,OAAO,2FAAG,iBAAMC,MAAN,qJACMf,CAAAA,KAAK,CAACgB,GAAN,CACd,yFADc,CAEd,CAAED,MAAM,CAANA,MAAF,CAFc,CADN,QACNE,GADM,eAKNC,IALM,CAKCD,GAAG,CAACC,IALL,CAMZL,OAAO,CAACK,IAAD,CAAP,CANY,sDAAH,kBAAPJ,CAAAA,OAAO,6CAAb,CAQAZ,SAAS,CAAC,UAAM,CACZ,GAAMiB,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACA,GAAML,CAAAA,MAAM,CAAGI,eAAe,CAACJ,MAA/B,CACAD,OAAO,CAACC,MAAD,CAAP,CACA,MAAO,SAASM,CAAAA,OAAT,EAAmB,CACtBF,eAAe,CAACG,KAAhB,GACH,CAFD,CAGH,CAPQ,CAON,EAPM,CAAT,CASA,mBACI,aAAK,SAAS,cAAQb,OAAR,aAAmBA,OAAnB,SAAd,wBACI,KAAC,MAAD,EAAQ,WAAW,CAAC,MAApB,uBACI,WAAI,SAAS,CAAC,8CAAd,kBADJ,EADJ,cAMI,KAAC,SAAD,EAAW,SAAS,CAAC,MAArB,uBACI,KAAC,GAAD,WACKG,IAAI,EACDA,IAAI,CAACW,OAAL,CAAaC,GAAb,CAAiB,SAACC,IAAD,CAAOC,GAAP,CAAe,IAExBC,CAAAA,aAFwB,CAOxBF,IAPwB,CAExBE,aAFwB,CAGxBC,KAHwB,CAOxBH,IAPwB,CAGxBG,KAHwB,CAIxBC,YAJwB,CAOxBJ,IAPwB,CAIxBI,YAJwB,CAKxBC,QALwB,CAOxBL,IAPwB,CAKxBK,QALwB,CAMxBC,IANwB,CAOxBN,IAPwB,CAMxBM,IANwB,CAQ5B,mBACI,MAAC,GAAD,EACI,SAAS,CAAC,eADd,CAGI,EAAE,CAAC,IAHP,CAII,EAAE,CAAC,GAJP,CAKI,EAAE,CAAC,GALP,wBAMI,YAAK,SAAS,CAAC,UAAf,uBACI,YACI,GAAG,CAAC,QADR,CAEI,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAFX,CAGI,GAAG,CACC,kCACAL,aALR,EADJ,EANJ,cAgBI,aAAK,SAAS,CAAC,SAAf,wBACI,WAAI,SAAS,CAAC,KAAd,UAAqBC,KAAK,EAAIG,IAA9B,EADJ,cAEI,eAAO,SAAS,CAAC,cAAjB,WACKF,YADL,CACmB,GADnB,GAFJ,cAKI,qBAAIC,QAAJ,OALJ,GAhBJ,GAESJ,GAFT,CADJ,CA0BH,CAlCD,CAFR,EADJ,EANJ,UADJ,CAkDH,CArED,CAuEA,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACtB,MAAO,CACHzB,OAAO,CAAEyB,KAAK,CAACzB,OADZ,CAAP,CAGH,CAJD,CAMA,cAAeH,CAAAA,OAAO,CAAC2B,QAAD,CAAP,CAAkBzB,IAAlB,CAAf","sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"../components/layout/Header\";\r\nconst News = ({ version = localStorage.getItem(\"version\") }) => {\r\n    const [news, setNews] = useState(null);\r\n    const getNews = async signal => {\r\n        const res = await axios.get(\r\n            \"https://api.themoviedb.org/3/trending/all/week?api_key=af64c5c103f265313a6fa2368d35c51a\",\r\n            { signal },\r\n        );\r\n        const data = res.data;\r\n        setNews(data);\r\n    };\r\n    useEffect(() => {\r\n        const abortController = new AbortController();\r\n        const signal = abortController.signal;\r\n        getNews(signal);\r\n        return function cleanUp() {\r\n            abortController.abort();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`bg-${version} ${version} news`}>\r\n            <Header headerClass=\"half\">\r\n                <h1 className=\"mt-5 font-weight-bold text-center text-white\">\r\n                    News\r\n                </h1>\r\n            </Header>\r\n            <Container className=\"py-5\">\r\n                <Row>\r\n                    {news &&\r\n                        news.results.map((item, ind) => {\r\n                            const {\r\n                                backdrop_path,\r\n                                title,\r\n                                release_date,\r\n                                overview,\r\n                                name,\r\n                            } = item;\r\n                            return (\r\n                                <Col\r\n                                    className=\"mb-4 newsCard\"\r\n                                    key={ind}\r\n                                    xs=\"12\"\r\n                                    md=\"6\"\r\n                                    lg=\"4\">\r\n                                    <div className=\"img mb-4\">\r\n                                        <img\r\n                                            alt=\"poster\"\r\n                                            style={{ width: \"100%\" }}\r\n                                            src={\r\n                                                \"https://image.tmdb.org/t/p/w500\" +\r\n                                                backdrop_path\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"heading\">\r\n                                        <h3 className=\"m-0\">{title || name}</h3>\r\n                                        <small className=\"d-block my-3\">\r\n                                            {release_date}{\" \"}\r\n                                        </small>\r\n                                        <p>{overview} </p>\r\n                                    </div>\r\n                                </Col>\r\n                            );\r\n                        })}\r\n                </Row>\r\n            </Container>\r\n            news\r\n        </div>\r\n    );\r\n};\r\n\r\nconst getState = state => {\r\n    return {\r\n        version: state.version,\r\n    };\r\n};\r\n\r\nexport default connect(getState)(News);\r\n"]},"metadata":{},"sourceType":"module"}