{"ast":null,"code":"var _jsxFileName = \"D:\\\\block-buster\\\\src\\\\pages\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { getSearch } from \"../store/actions/moviesAction\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Header from \"../components/layout/Header\";\nimport SingleMovieCard from \"../components/renderMovies/SingleMovieCard\";\nimport Spinner from \"../components/parts/Spinner\";\nimport GetMorePages from \"../components/parts/GetMorePages\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = ({\n  searchResults,\n  version = localStorage.getItem(\"version\"),\n  getSearch\n}) => {\n  _s();\n\n  const [page, setPage] = useState(1);\n\n  const getPage = currentPage => {\n    setPage(currentPage);\n  };\n\n  useEffect(() => {\n    const searchValue = localStorage.getItem(\"searchValue\") ? localStorage.getItem(\"searchValue\") : \"\";\n    if (!searchResults) getSearch(searchValue, page); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const searchValue = localStorage.getItem(\"searchValue\") ? localStorage.getItem(\"searchValue\") : \"\";\n    if (searchResults && searchResults.page !== page) getSearch(searchValue, page); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n  let results = searchResults && searchResults.results;\n  if (!localStorage.getItem(\"searchValue\")) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/home\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 54\n  }, this);\n  if (!searchResults) return /*#__PURE__*/_jsxDEV(Spinner, {\n    content: \"loading data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 32\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `search bg-${version}`,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      headerClass: \"half\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mt-5 font-weight-bold text-center text-white\",\n        children: \"Search Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: !results.length ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: \"12\",\n          className: \"text-center text-pColor\",\n          children: \"no results found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this) : results.map(item => {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"mb-4 mx-auto\",\n            xs: \"6\",\n            md: \"4\",\n            lg: \"3\",\n            children: /*#__PURE__*/_jsxDEV(SingleMovieCard, {\n              movie: item,\n              kind: item.media_type === \"movie\" ? \"movies\" : \"tv\",\n              version: version\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this)\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(GetMorePages, {\n        getPage: getPage,\n        startingPage: searchResults.page,\n        total: searchResults.total_pages,\n        version: version\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Search, \"4I7KoTaNQgjH3tJw7LIfBkkxHAc=\");\n\n_c = Search;\n\nconst getState = state => {\n  return {\n    searchResults: state.movies.searchResults,\n    version: state.version\n  };\n};\n\nexport default connect(getState, {\n  getSearch\n})(Search);\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["D:/block-buster/src/pages/Search.js"],"names":["useEffect","useState","connect","Redirect","getSearch","Container","Row","Col","Header","SingleMovieCard","Spinner","GetMorePages","Search","searchResults","version","localStorage","getItem","page","setPage","getPage","currentPage","searchValue","results","length","map","item","media_type","id","total_pages","getState","state","movies"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { getSearch } from \"../store/actions/moviesAction\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport Header from \"../components/layout/Header\";\r\nimport SingleMovieCard from \"../components/renderMovies/SingleMovieCard\";\r\nimport Spinner from \"../components/parts/Spinner\";\r\nimport GetMorePages from \"../components/parts/GetMorePages\";\r\nconst Search = ({\r\n    searchResults,\r\n    version = localStorage.getItem(\"version\"),\r\n    getSearch,\r\n}) => {\r\n    const [page, setPage] = useState(1);\r\n    const getPage = currentPage => {\r\n        setPage(currentPage);\r\n    };\r\n    useEffect(() => {\r\n        const searchValue = localStorage.getItem(\"searchValue\")\r\n            ? localStorage.getItem(\"searchValue\")\r\n            : \"\";\r\n        if (!searchResults) getSearch(searchValue, page);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    useEffect(() => {\r\n        const searchValue = localStorage.getItem(\"searchValue\")\r\n            ? localStorage.getItem(\"searchValue\")\r\n            : \"\";\r\n        if (searchResults && searchResults.page !== page)\r\n            getSearch(searchValue, page);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [page]);\r\n    let results = searchResults && searchResults.results;\r\n    if (!localStorage.getItem(\"searchValue\")) return <Redirect to=\"/home\" />;\r\n    if (!searchResults) return <Spinner content=\"loading data...\" />;\r\n    return (\r\n        <div className={`search bg-${version}`}>\r\n            <Header headerClass=\"half\">\r\n                <h1 className=\"mt-5 font-weight-bold text-center text-white\">\r\n                    Search Results\r\n                </h1>\r\n            </Header>\r\n            <Container className=\"py-5\">\r\n                <Row>\r\n                    {!results.length ? (\r\n                        <Col xs=\"12\" className=\"text-center text-pColor\">\r\n                            no results found\r\n                        </Col>\r\n                    ) : (\r\n                        results.map(item => {\r\n                            return (\r\n                                <Col\r\n                                    key={item.id}\r\n                                    className=\"mb-4 mx-auto\"\r\n                                    xs=\"6\"\r\n                                    md=\"4\"\r\n                                    lg=\"3\">\r\n                                    <SingleMovieCard\r\n                                        movie={item}\r\n                                        kind={\r\n                                            item.media_type === \"movie\"\r\n                                                ? \"movies\"\r\n                                                : \"tv\"\r\n                                        }\r\n                                        version={version}\r\n                                    />\r\n                                </Col>\r\n                            );\r\n                        })\r\n                    )}\r\n                </Row>\r\n                <GetMorePages\r\n                    getPage={getPage}\r\n                    startingPage={searchResults.page}\r\n                    total={searchResults.total_pages}\r\n                    version={version}\r\n                />\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst getState = state => {\r\n    return {\r\n        searchResults: state.movies.searchResults,\r\n        version: state.version,\r\n    };\r\n};\r\n\r\nexport default connect(getState, {\r\n    getSearch,\r\n})(Search);\r\n"]},"metadata":{},"sourceType":"module"}