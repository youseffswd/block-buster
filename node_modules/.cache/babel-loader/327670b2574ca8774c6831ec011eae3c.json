{"ast":null,"code":"import _objectSpread from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/block-buster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import SingleMovieCard from\"./SingleMovieCard\";import MovieCardLoading from\"./MovieCardLoading\";import{Row,Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{Swiper,SwiperSlide}from\"swiper/react\";import{getTrailer}from\"../../store/actions/moviesAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var itemsInSLider=function itemsInSLider(arg1,arg2,arg3,arg4,arg5){if(window.innerWidth<576)return arg1;else if(window.innerWidth<768&&window.innerWidth>=576)return arg2;else if(window.innerWidth<992&&window.innerWidth>=768)return arg3;else if(window.innerWidth<1200&&window.innerWidth>=992)return arg4;else return arg5;};var RenderSlider=function RenderSlider(props){var movies=props.movies,loop=props.loop,trailer=props.trailer,kind=props.kind;var _useState=useState({height:window.innerHeight,width:window.innerWidth}),_useState2=_slicedToArray(_useState,2),setDimensions=_useState2[1];window.addEventListener(\"resize\",function(){setDimensions({height:window.innerHeight,width:window.innerWidth});});var _useState3=useState({activeMovie:null,trailer:trailer}),_useState4=_slicedToArray(_useState3,2),activeTrailer=_useState4[0],setActiveTrailer=_useState4[1];var bringTrailer=function bringTrailer(id){if(!trailer||trailer.id!==id){props.getTrailer(\"/movie/\".concat(id,\"/videos\"));setActiveTrailer({activeMovie:id,trailer:trailer});}};useEffect(function(){setActiveTrailer(function(old){return _objectSpread(_objectSpread({},old),{},{trailer:trailer});});},[trailer]);if(!movies){return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:\"6\",md:\"4\",lg:\"3\",children:/*#__PURE__*/_jsx(MovieCardLoading,{})}),/*#__PURE__*/_jsx(Col,{xs:\"6\",md:\"4\",lg:\"3\",children:/*#__PURE__*/_jsx(MovieCardLoading,{})}),/*#__PURE__*/_jsx(Col,{className:\"d-none d-md-block\",md:\"4\",lg:\"3\",children:/*#__PURE__*/_jsx(MovieCardLoading,{})}),/*#__PURE__*/_jsx(Col,{className:\"d-none d-lg-block\",lg:\"3\",children:/*#__PURE__*/_jsx(MovieCardLoading,{})})]});}return/*#__PURE__*/_jsx(Swiper,{navigation:true,spaceBetween:itemsInSLider(15,20,20,20,20),slidesPerView:itemsInSLider(2,2,3,4,5),loop:loop,centeredSlides:!loop,children:movies&&movies.results.map(function(movie,ind){return/*#__PURE__*/_jsx(SwiperSlide,{children:!trailer?/*#__PURE__*/_jsx(SingleMovieCard,{kind:kind,movie:movie}):/*#__PURE__*/_jsxs(\"div\",{id:movie.id,onClick:function onClick(){return bringTrailer(movie.id);},className:\"\".concat(movie.id===activeTrailer.activeMovie?\"active\":\"\",\"  recommends text-center d-flex align-items-center flex-wrap\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"img w-100\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w200/\".concat(movie.backdrop_path),alt:\"poster\",className:\"img-fluid\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center w-100 mt-2\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"\",children:[movie.title,\" \"]})})]})},ind);})});};export default connect(null,{getTrailer:getTrailer})(RenderSlider);","map":{"version":3,"sources":["D:/block-buster/src/components/renderMovies/RenderSlider.js"],"names":["useState","useEffect","SingleMovieCard","MovieCardLoading","Row","Col","connect","Swiper","SwiperSlide","getTrailer","itemsInSLider","arg1","arg2","arg3","arg4","arg5","window","innerWidth","RenderSlider","props","movies","loop","trailer","kind","height","innerHeight","width","setDimensions","addEventListener","activeMovie","activeTrailer","setActiveTrailer","bringTrailer","id","old","results","map","movie","ind","backdrop_path","title"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport SingleMovieCard from \"./SingleMovieCard\";\r\nimport MovieCardLoading from \"./MovieCardLoading\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { getTrailer } from \"../../store/actions/moviesAction\";\r\nconst itemsInSLider = (arg1, arg2, arg3, arg4, arg5) => {\r\n    if (window.innerWidth < 576) return arg1;\r\n    else if (window.innerWidth < 768 && window.innerWidth >= 576) return arg2;\r\n    else if (window.innerWidth < 992 && window.innerWidth >= 768) return arg3;\r\n    else if (window.innerWidth < 1200 && window.innerWidth >= 992) return arg4;\r\n    else return arg5;\r\n};\r\n\r\nconst RenderSlider = props => {\r\n    const { movies, loop, trailer, kind } = props;\r\n    const [, setDimensions] = useState({\r\n        height: window.innerHeight,\r\n        width: window.innerWidth,\r\n    });\r\n    window.addEventListener(\"resize\", () => {\r\n        setDimensions({\r\n            height: window.innerHeight,\r\n            width: window.innerWidth,\r\n        });\r\n    });\r\n    const [activeTrailer, setActiveTrailer] = useState({\r\n        activeMovie: null,\r\n        trailer: trailer,\r\n    });\r\n    const bringTrailer = id => {\r\n        if (!trailer || trailer.id !== id) {\r\n            props.getTrailer(`/movie/${id}/videos`);\r\n            setActiveTrailer({\r\n                activeMovie: id,\r\n                trailer: trailer,\r\n            });\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        setActiveTrailer(old => {\r\n            return {\r\n                ...old,\r\n                trailer: trailer,\r\n            };\r\n        });\r\n    }, [trailer]);\r\n\r\n    if (!movies) {\r\n        return (\r\n            <Row>\r\n                <Col xs=\"6\" md=\"4\" lg=\"3\">\r\n                    <MovieCardLoading />\r\n                </Col>\r\n                <Col xs=\"6\" md=\"4\" lg=\"3\">\r\n                    <MovieCardLoading />\r\n                </Col>\r\n                <Col className=\"d-none d-md-block\" md=\"4\" lg=\"3\">\r\n                    <MovieCardLoading />\r\n                </Col>\r\n                <Col className=\"d-none d-lg-block\" lg=\"3\">\r\n                    <MovieCardLoading />\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n    return (\r\n        <Swiper\r\n            navigation\r\n            spaceBetween={itemsInSLider(15, 20, 20, 20, 20)}\r\n            slidesPerView={itemsInSLider(2, 2, 3, 4, 5)}\r\n            loop={loop}\r\n            centeredSlides={!loop}>\r\n            {movies &&\r\n                movies.results.map((movie, ind) => {\r\n                    return (\r\n                        <SwiperSlide key={ind}>\r\n                            {!trailer ? (\r\n                                <SingleMovieCard kind={kind} movie={movie} />\r\n                            ) : (\r\n                                <div\r\n                                    id={movie.id}\r\n                                    onClick={() => bringTrailer(movie.id)}\r\n                                    className={`${\r\n                                        movie.id === activeTrailer.activeMovie\r\n                                            ? \"active\"\r\n                                            : \"\"\r\n                                    }  recommends text-center d-flex align-items-center flex-wrap`}>\r\n                                    <div className=\"img w-100\">\r\n                                        <img\r\n                                            src={`https://image.tmdb.org/t/p/w200/${movie.backdrop_path}`}\r\n                                            alt=\"poster\"\r\n                                            className=\"img-fluid\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"text-center w-100 mt-2\">\r\n                                        <h5 className=\"\">{movie.title} </h5>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </SwiperSlide>\r\n                    );\r\n                })}\r\n        </Swiper>\r\n    );\r\n};\r\nexport default connect(null, {\r\n    getTrailer,\r\n})(RenderSlider);\r\n"]},"metadata":{},"sourceType":"module"}